(this["webpackJsonptimmies-helper"]=this["webpackJsonptimmies-helper"]||[]).push([[0],{11:function(e){e.exports=JSON.parse('{"teams":[{"fullName":"Toronto Maple Leafs","abbreviation":"TOR"},{"fullName":"Carolina Hurricanes","abbreviation":"CAR"},{"fullName":"Tampa Bay Lightning","abbreviation":"TBL"},{"fullName":"Florida Panthers","abbreviation":"FLA"},{"fullName":"Winnipeg Jets","abbreviation":"WPG"},{"fullName":"New York Islanders","abbreviation":"NYI"},{"fullName":"Washington Capitals","abbreviation":"WSH"},{"fullName":"Vegas Golden Knights","abbreviation":"VGK"},{"fullName":"Chicago Blackhawks","abbreviation":"CHI"},{"fullName":"Edmonton Oilers","abbreviation":"EDM"},{"fullName":"St. Louis Blues","abbreviation":"STL"},{"fullName":"Boston Bruins","abbreviation":"BOS"},{"fullName":"Philadelphia Flyers","abbreviation":"PHI"},{"fullName":"Montreal Canadiens","abbreviation":"MTL"},{"fullName":"Pittsburgh Penguins","abbreviation":"PIT"},{"fullName":"Minnesota Wild","abbreviation":"MIN"},{"fullName":"Colorado Avalanche","abbreviation":"COL"},{"fullName":"Columbus Blue Jackets","abbreviation":"CBJ"},{"fullName":"Calgary Flames","abbreviation":"CGY"},{"fullName":"Arizona Coyotes","abbreviation":"ARI"},{"fullName":"Vancouver Canucks","abbreviation":"VAN"},{"fullName":"Los Angeles Kings","abbreviation":"LAK","timmiesAbbreviation":"LA"},{"fullName":"New York Rangers","abbreviation":"NYR"},{"fullName":"Nashville Predators","abbreviation":"NSH"},{"fullName":"San Jose Sharks","abbreviation":"SJS","timmiesAbbreviation":"SJ"},{"fullName":"Ottawa Senators","abbreviation":"OTT"},{"fullName":"Detroit Red Wings","abbreviation":"DET"},{"fullName":"Anaheim Ducks","abbreviation":"ANA"},{"fullName":"New Jersey Devils","abbreviation":"NJD","timmiesAbbreviation":"NJ"},{"fullName":"Dallas Stars","abbreviation":"DAL"},{"fullName":"Buffalo Sabres","abbreviation":"BUF"}]}')},21:function(e){e.exports=JSON.parse('{"players":[{"timmiesName":"Nicholas Suzuki","firstName":"Nick","lastName":"Suzuki"},{"timmiesName":"Tim Stutzle","firstName":"Tim","lastName":"St\ufffdtzle"},{"timmiesName":"T.J. Brodie","firstName":"TJ","lastName":"Brodie"}]}')},26:function(e,a,t){},27:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var i=t(3),s=t.n(i),r=t(20),n=t.n(r),l=(t(26),t(27),t(8)),o=t(4),m=t(5),b=t(1),c=t(7),u=t(6),d=t(9),p=t.n(d),h=t(0),f=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var i;return Object(o.a)(this,t),(i=a.call(this,e)).state={gamesplayed:0,goals:0},i.getGoalsPerGame=i.getGoalsPerGame.bind(Object(b.a)(i)),i.getShotsPerGame=i.getShotsPerGame.bind(Object(b.a)(i)),i.getGamesPlayed=i.getGamesPlayed.bind(Object(b.a)(i)),i.getGoals=i.getGoals.bind(Object(b.a)(i)),i}return Object(m.a)(t,[{key:"getGamesPlayed",value:function(){return this.props.player.nhldata?this.props.player.nhldata.gamesPlayed:0}},{key:"getGoals",value:function(){return this.props.player.nhldata?this.props.player.nhldata.goals:0}},{key:"getGoalsPerGame",value:function(){return this.props.player.nhldata&&0!==this.props.player.nhldata.gamesPlayed?(this.props.player.nhldata.goals/this.props.player.nhldata.gamesPlayed).toFixed(2):0}},{key:"getShotsPerGame",value:function(){return this.props.player.nhldata&&0!==this.props.player.nhldata.gamesPlayed?(this.props.player.nhldata.shots/this.props.player.nhldata.gamesPlayed).toFixed(2):0}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[this.props.player.firstName.substring(0,1),". ",this.props.player.lastName," - ",this.props.player.position," GP: ",this.getGamesPlayed()," G: ",this.getGoals()," G/GP: ",this.getGoalsPerGame()," Shots/GP: ",this.getShotsPerGame()]})}}]),t}(i.Component),v=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){return Object(o.a)(this,t),a.call(this,e)}return Object(m.a)(t,[{key:"render",value:function(){var e=this;return Object(h.jsx)("ul",{children:this.props.players.sort((function(e,a){return(e.nhldata?e.nhldata.goals/e.nhldata.gamesPlayed:0)-(a.nhldata?a.nhldata.goals/a.nhldata.gamesPlayed:0)})).reverse().map((function(a,t){var i=null;if(a.nhldata){var s=a.nhldata.teamAbbrevs,r=e.props.teams.find((function(e){return e.teamAbbr===s}));if(r){var n=e.props.games.find((function(e){return e.teams.home.abbr===r.timmiesAbbr||e.teams.away.abbr===r.timmiesAbbr}));n&&(i=n.teams.home.abbr===s?e.props.teams.find((function(e){return e.timmiesAbbr===n.teams.away.abbr})):e.props.teams.find((function(e){return e.timmiesAbbr===n.teams.home.abbr})))}}return i||(a.nhldata?(console.log("Failed to get opponent for "+a.firstName+" "+a.lastName),console.log("Team Abbr: "+a.nhldata.teamAbbrevs)):console.log("No NHL data for "+a.firstName+" "+a.lastName)),Object(h.jsx)("li",{className:"app-list",children:Object(h.jsx)(f,{player:a,opponent:i})},a.key)}))})}}]),t}(i.Component),g=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var i;return Object(o.a)(this,t),(i=a.call(this,e)).state={showList:[]},i.clickHeader=i.clickHeader.bind(Object(b.a)(i)),i}return Object(m.a)(t,[{key:"componentDidMount",value:function(){for(var e=[],a=0;a<this.props.playerLists.length;a++)e=[].concat(Object(l.a)(e),[!0]);this.setState({showList:e})}},{key:"clickHeader",value:function(e){var a=Object(l.a)(this.state.showList),t=a[e-1];a[e-1]=!t,console.log(a),this.setState({showList:a})}},{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{children:Object(h.jsx)("ul",{children:this.props.playerLists.map((function(a){return Object(h.jsxs)("li",{className:"app-list",children:[Object(h.jsx)("h2",{className:"list-header",onClick:function(t){return e.clickHeader(a.id)},children:Object(h.jsxs)("a",{href:"#",children:["List ",a.id]})}),Object(h.jsx)("div",{children:e.state.showList[a.id-1]&&Object(h.jsx)(v,{players:a.players,games:e.props.games,teams:e.props.teams})})]},a.id)}))})})}}]),t}(i.Component),N=t(11),y=t(21),j=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var i;return Object(o.a)(this,t),(i=a.call(this,e)).state={loading:!0,playerLists:[{id:"1",players:[]},{id:"2",players:[]},{id:"3",players:[]}],games:null,teams:[],errorMessage:""},i.loadTimmies=i.loadTimmies.bind(Object(b.a)(i)),i.loadSetData=i.loadSetData.bind(Object(b.a)(i)),i.loadTeamData=i.loadTeamData.bind(Object(b.a)(i)),i.getTeamAbbreviation=i.getTeamAbbreviation.bind(Object(b.a)(i)),i.getTimmiesAbbreviation=i.getTimmiesAbbreviation.bind(Object(b.a)(i)),i}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadTimmies(),this.loadTeamData()}},{key:"loadTimmies",value:function(){var e=this;p.a.post("https://cors.bridged.cc/http://ec2-54-158-170-220.compute-1.amazonaws.com/api/v1/players").then((function(a){e.setState({loading:!1,games:a.data.games}),e.loadSetData(a.data.sets)})).catch((function(a){e.setState({errorMessage:"Something went wrong. Error: "+a})}))}},{key:"loadTeamData",value:function(){var e=this;p.a.create({baseURL:"https://cors.bridged.cc/https://api.nhle.com/stats/rest/en/team/summary?isAggregate=false&isGame=false&sort=%5B%7B%22property%22:%22points%22,%22direction%22:%22DESC%22%7D,%7B%22property%22:%22wins%22,%22direction%22:%22DESC%22%7D%5D&start=0&limit=50&factCayenneExp=gamesPlayed%3E=1&cayenneExp=gameTypeId=2%20and%20seasonId%3C=20202021%20and%20seasonId%3E=20202021",withCredentials:!1,headers:{}}).get().then((function(a){for(var t=a.data.data,i=0;i<t.length;i++){var s=t[i].teamFullName,r=e.getTeamAbbreviation(s),n=e.getTimmiesAbbreviation(s);t[i].teamAbbr=r,t[i].timmiesAbbr=n||r}console.log(t),e.setState({teams:t})})).catch((function(e){console.log("Unable to get team stats from NHL website. Error: "+e)}))}},{key:"getTeamAbbreviation",value:function(e){var a=N.teams.find((function(a){return a.fullName===e}));return a?a.abbreviation:"MTL"}},{key:"getTimmiesAbbreviation",value:function(e){var a=N.teams.find((function(a){return a.fullName===e}));if(a)return a.timmiesAbbreviation?a.timmiesAbbreviation:""}},{key:"loadSetData",value:function(e){var a=this;e.map((function(e){e.players.map((function(t){var i=t.firstName.trim(),s=t.lastName.trim(),r=i+" "+s,n=y.players.find((function(e){return e.timmiesName===r}));n&&(i=n.firstName,s=n.lastName);var o="https://cors.bridged.cc/https://api.nhle.com/stats/rest/en/skater/summary?cayenneExp=gameTypeId=2%20and%20seasonId%3E=20202021%20and%20skaterFullName%20likeIgnoreCase%20%22%25"+i+"%20"+s+"%25%22";p.a.create({baseURL:o,withCredentials:!1,headers:{}}).get().then((function(i){var s=i.data.data[0],r=t.firstName+t.lastName;s&&(r=s.playerId);var n={firstName:t.firstName,lastName:t.lastName,position:t.position,key:r,nhldata:s},o=Object(l.a)(a.state.playerLists),m=o[e.id-1];m.players=[].concat(Object(l.a)(m.players),[n]),a.setState({playerLists:o})})).catch((function(e){console.log("Player get didn't work for "+t.firstName+" "+t.lastName+". Error: "+e)}))}))}))}},{key:"render",value:function(){return this.state.loading?Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:"https://miro.medium.com/max/882/1*9EBHIOzhE1XfMYoKz1JcsQ.gif",alt:"loading..."})}):this.state.errorMessage?Object(h.jsx)("div",{children:this.state.errorMessage}):Object(h.jsx)("div",{children:Object(h.jsx)(g,{playerLists:this.state.playerLists,games:this.state.games,teams:this.state.teams})})}}]),t}(i.Component);var O=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{children:"Timmies Helper App"}),Object(h.jsx)("div",{children:Object(h.jsx)(j,{})})]})},k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,48)).then((function(a){var t=a.getCLS,i=a.getFID,s=a.getFCP,r=a.getLCP,n=a.getTTFB;t(e),i(e),s(e),r(e),n(e)}))};n.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(O,{})}),document.getElementById("root")),k()}},[[47,1,2]]]);
//# sourceMappingURL=main.365af4a3.chunk.js.map