(this["webpackJsonptimmies-helper"]=this["webpackJsonptimmies-helper"]||[]).push([[0],{26:function(e){e.exports=JSON.parse('{"teams":[{"fullName":"Toronto Maple Leafs","abbreviation":"TOR"},{"fullName":"Carolina Hurricanes","abbreviation":"CAR"},{"fullName":"Tampa Bay Lightning","abbreviation":"TBL","timmiesAbbreviation":"TB"},{"fullName":"Florida Panthers","abbreviation":"FLA"},{"fullName":"Winnipeg Jets","abbreviation":"WPG"},{"fullName":"New York Islanders","abbreviation":"NYI"},{"fullName":"Washington Capitals","abbreviation":"WSH"},{"fullName":"Vegas Golden Knights","abbreviation":"VGK"},{"fullName":"Chicago Blackhawks","abbreviation":"CHI"},{"fullName":"Edmonton Oilers","abbreviation":"EDM"},{"fullName":"St. Louis Blues","abbreviation":"STL"},{"fullName":"Boston Bruins","abbreviation":"BOS"},{"fullName":"Philadelphia Flyers","abbreviation":"PHI"},{"fullName":"Montreal Canadiens","abbreviation":"MTL"},{"fullName":"Pittsburgh Penguins","abbreviation":"PIT"},{"fullName":"Minnesota Wild","abbreviation":"MIN"},{"fullName":"Colorado Avalanche","abbreviation":"COL"},{"fullName":"Columbus Blue Jackets","abbreviation":"CBJ"},{"fullName":"Calgary Flames","abbreviation":"CGY"},{"fullName":"Arizona Coyotes","abbreviation":"ARI"},{"fullName":"Vancouver Canucks","abbreviation":"VAN"},{"fullName":"Los Angeles Kings","abbreviation":"LAK","timmiesAbbreviation":"LA"},{"fullName":"New York Rangers","abbreviation":"NYR"},{"fullName":"Nashville Predators","abbreviation":"NSH"},{"fullName":"San Jose Sharks","abbreviation":"SJS","timmiesAbbreviation":"SJ"},{"fullName":"Ottawa Senators","abbreviation":"OTT"},{"fullName":"Detroit Red Wings","abbreviation":"DET"},{"fullName":"Anaheim Ducks","abbreviation":"ANA"},{"fullName":"New Jersey Devils","abbreviation":"NJD","timmiesAbbreviation":"NJ"},{"fullName":"Dallas Stars","abbreviation":"DAL"},{"fullName":"Buffalo Sabres","abbreviation":"BUF"},{"fullName":"Seattle Kraken","abbreviation":"SEA"}]}')},41:function(e){e.exports=JSON.parse('{"players":[{"timmiesName":"Nicholas Suzuki","firstName":"Nick","lastName":"Suzuki"},{"timmiesName":"Tim Stutzle","firstName":"Tim","lastName":"St\xfctzle"},{"timmiesName":"T.J. Brodie","firstName":"TJ","lastName":"Brodie"},{"timmiesName":"Mathew Dumba","firstName":"Matt","lastName":"Dumba"},{"timmiesName":"Alexis Lafreniere","firstName":"Alexis","lastName":"Lafreni\xe8re"},{"timmiesName":"Alexander Wennberg","firstName":"Alex","lastName":"Wennberg"},{"timmiesName":"Zachary Aston-Reese","firstName":"Zach","lastName":"Aston-Reese"},{"timmiesName":"Maxime Comtois","firstName":"Max","lastName":"Comtois"},{"timmiesName":"Mitch Marner","firstName":"Mitchell","lastName":"Marner"},{"timmiesName":"Michael Matheson","firstName":"Mike","lastName":"Matheson"}]}')},50:function(e,a,t){},51:function(e,a,t){},80:function(e,a,t){"use strict";t.r(a);var s=t(0),r=t(16),n=t.n(r),i=t(86),o=(t(50),t(10)),l=t(11),c=t(3),m=t(13),d=t(12),u=(t(51),t.p+"static/media/paypal.1bdbe2bb.png"),h=t(14),b=t(88),p=t(9),g=t(30),f=t(1);function j(e){var a=e.columns,t=e.data,s=Object(g.useTable)({columns:a,data:t,initialState:{sortBy:[{id:"playerGoalsPerGame",desc:!0}]}},g.useSortBy),r=s.getTableProps,n=s.getTableBodyProps,i=s.headerGroups,o=s.rows,l=s.prepareRow;return Object(f.jsxs)("table",Object(p.a)(Object(p.a)({},r()),{},{children:[Object(f.jsx)("thead",{children:i.map((function(e){return Object(f.jsx)("tr",Object(p.a)(Object(p.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsx)("th",Object(p.a)(Object(p.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:e.isSorted?e.isSortedDesc?"sort-desc":"sort-asc":"",children:e.render("Header")}))}))}))}))}),Object(f.jsx)("tbody",Object(p.a)(Object(p.a)({},n()),{},{children:o.map((function(e,a){return l(e),Object(f.jsx)("tr",Object(p.a)(Object(p.a)({className:e.original.injury||e.original.postponed?"injured-player":""},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(f.jsx)("td",Object(p.a)(Object(p.a)({c:!0},e.getCellProps([{className:e.column.className}])),{},{children:e.render("Cell")}))}))}))}))}))]}))}var y=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var s;return Object(o.a)(this,t),(s=a.call(this,e)).state={showList:[]},s.clickHeader=s.clickHeader.bind(Object(c.a)(s)),s}return Object(l.a)(t,[{key:"componentDidMount",value:function(){for(var e=[],a=0;a<this.props.playerLists.length;a++)e=[].concat(Object(h.a)(e),[!0]);this.setState({showList:e})}},{key:"clickHeader",value:function(e){var a=Object(h.a)(this.state.showList),t=a[e-1];a[e-1]=!t,this.setState({showList:a})}},{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{children:this.props.playerLists.map((function(a){return Object(f.jsxs)("div",{className:"player-list",children:[Object(f.jsx)("h2",{className:"list-header",children:Object(f.jsxs)("a",{href:"#set"+a.id,onClick:function(t){return e.clickHeader(a.id)},children:[e.state.showList[a.id-1]?"-":"+","List ",a.id]})}),Object(f.jsx)(b.a,{in:e.state.showList[a.id-1],children:Object(f.jsx)("div",{className:"stats-list",id:"#set"+a.id,children:Object(f.jsx)(j,{data:a.players,columns:e.props.playerListColumns})})})]},a.id)}))})}}]),t}(s.Component),v=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var s;return Object(o.a)(this,t),(s=a.call(this,e)).state={showWarnings:!0},s.clickHide=s.clickHide.bind(Object(c.a)(s)),s}return Object(l.a)(t,[{key:"clickHide",value:function(){this.setState({showWarnings:!this.state.showWarnings})}},{key:"render",value:function(){var e,a=this,t=this.props.postponedGames.map((function(e){return Object(f.jsxs)("div",{children:["POSTPONED: ",e.teams.away.team.name," vs ",e.teams.home.team.name]},e.gamePK)}));this.props.injuries&&(e=this.props.injuries.map((function(e){return Object(f.jsxs)("div",{children:["INJURY: ",e.player," - ",e.status," - ",e.injury]},e.ID)})));var s=this.props.otherWarnings.map((function(e,a){return Object(f.jsxs)("div",{children:["Warning: ",e]},a)})),r=Object(f.jsx)("div",{onClick:function(e){return a.clickHide()},children:Object(f.jsx)("a",{href:"#",children:this.state.showWarnings?"(hide warnings)":"(show warnings)"})});return Object(f.jsxs)("div",{className:"warnings",children:[this.state.showWarnings&&t,this.state.showWarnings&&e,this.state.showWarnings&&s,(this.props.postponedGames.length>0||this.props.injuries.length>0||this.props.otherWarnings.length>0)&&r]})}}]),t}(s.Component),N=t(26),O=t(41),P=t(15),T=t.n(P),k=t(42),G=t(87),S=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var s;return Object(o.a)(this,t),(s=a.call(this,e)).timmiesAuthUrl="https://cognito-idp.us-east-1.amazonaws.com/",s.zorbaneProxyUrl="https://proxy-zorbane.herokuapp.com/",s.bridgedUrl="https://cors.bridged.cc/",s.timmiesUrl="https://px-api.rbi.digital/hockeyprod/picks",s.refreshToken="eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.fdIWv7uAIVoLsRY6PJEomm_Y1KvlVqAm2e8DQjuONG9ptWnry0QsQYDFjRBhz8BJeJDISwlu3H2r1Ng6OMKNvb-a2bR8zrR0ad0WdrTVzzZZ3o18WVCJ2BobWt2qeprT83AT_RMrEFz3vO4JOe95EyIWoVI3ZGL_p7b1GBcSonLMdiKi1bL9IgDyxGoz6ycsOSSq0IiqIgkp8zrkpnxzTXjCnD3Xe-o3RbLhVrT7r3uEYGAcuyjBZAoekfPy_4EEsxf_CioDbCxxPgWdEIEc9H-y4ulFHTCAqAKPovP6IV4amUlXSy79I4DUbv281DC3PF-0jG6vHEZyWkRo4_fqPw.jz-wyeVdOqQBvMTt.fE5sRYpQ57hbEcWcXDUhaEF457YUgSbKZPZfPBughh90s484emkVkcL3NHRze3koB-mQ1GmCfnCEPRt2T1DU3k4brsW6yQy91Y_2PNITbpoDwHTHJAMvwdHOIC6uMpLbXNOlrMO4gpk1kVWZ3EgxE9oF7dypEki-MN5uc-uD5fvkBzvKK-2TNUXfNjetvr6yVoEG5Ptm_g1XwSAurQfXJ4D7ubkJw_DGaMJau6B6wlpBunZGKrvBcONieEESujZCQFvafUJFU0OxLU6hbOH4B6d3LYvm-3yT6BPg4U147BX6aC3g7PykFc3XfMF1GyuY0mpsPQydlDHsv6IDqxHlQLvk2GF3zHiCqq8YLxQm05RxYqARs1o5ux-WIaKnbzP7m6lUR0gYVfsx7YEjs4t6TBTBdnOSDPtVZScGvd1bjO4e4pC6h10YXxadbkWhuNcwS3LfOnrPYnfXfl6IesOrWnOLO2JX1IUGmdB9C7bbOPwZWk36tlpWzyXY6OWdjldtLtDhdxgTLN-0cjKBCcfQMRa1XH9dH4kUAr_jGnyltKbK4Wf8GLSpv5cMXNirNfWZcf52Vt_eW5BPI_yMTKPWDNMCtJyFG_XMdoq1m92ZqQ41nh-v7mN4m0H5EsRg-oZbA4a9pfQa64-8LXChZsbawE1Hj8Eje8b09krE-ABdZefjfvc7Ty6ibnPaEtbl7sJUBG3WXVNckz2uoTSdvGOyMEzuYFoynI6p6K63cBfOKb1z3Ctx5LdasXrM6ZFYMWgngZ9SLTwoXY-hZMRSSlGFI0crZOAG3RQI01u9x_oOGMJMaxBYfU9GGMhEBurlxgPl69HYFl_6Ii_DzNF82X7n05MYGe7XPP447MTc4jueg3_P9Kz7VMgmfTwtL1tZ9FDfVArs3r_55WN6rTpMasYHUSIMhE2suDpNeSsA2SxoPNT-9qf-0C6uaXkp0btJfAcloUCE8LLh6S4FV7M6DzmArozL6oSQ1xhIB7dBhnPPRGNzkMDUX0VZph6YZfbESs8DL79qd3zrOMlH-F1UNBkYtWi66pSUq81cfFNmYzY44hzhD0YGtbQMelPVh3gZ0PWFXtOFcn8MLEbNCKEcoRrFKsGPsGi1yLndQRLnuODJSmZMXbZpm_U8QlowzakmTc-IGpkI9yxEOu9T7GJELpWjO9BqT_rh6ZLNmJ96qv5YXzlLP6DwPIBgOCL0yUf3LMYCDriJL3n_3L-4a0uT9k_o0epYjwjHVquLm4S7DTqEX36FRxhdpHppQPI5BAIh1jsIHCZrDbu3Eu5L1f8KTnUKYJv5FJmrXPts4It0DiNh_4bqKEPeXiQuuLYZEA.EAfqedBF9UrRwz4WKUW1FQ",s.state={loading:!0,playerLists:[{id:"1",players:[]},{id:"2",players:[]},{id:"3",players:[]}],games:null,teams:[],errorMessage:"",currentSeason:"20222023",currentSeasonFormatted:"2022-2023",actualSeason:"20222023",seasonType:"regular",currentView:"overall",trendGames:5,trendGamesInput:5,playerListColumns:null,postponedGames:null,playerInjuries:[],webInjuries:null,bearerToken:"",test:"eyJraWQiOiI2MkY1WVArTnZlZVFaVkhjak50bGh1UmJmU3R3bEhYTnNBMlo0TEVIZnd3PSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI0Yzk2NWRjYS1hYTk1LTQzZDUtYTdmZS1jNDc2NDFmN2M1MDgiLCJhdWQiOiIzZm10bm9rbXB0cTRsM3E3cGZoYW00bzJmbiIsImV2ZW50X2lkIjoiZDAzODdhYTQtY2ZlMS00NDlkLTkwYWYtYzc5ZGJkODg1MGI0IiwidG9rZW5fdXNlIjoiaWQiLCJhdXRoX3RpbWUiOjE2MzQ1MzI2NDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwvdXMtZWFzdC0xX2RXTGRvenhGeiIsImNvZ25pdG86dXNlcm5hbWUiOiI0Yzk2NWRjYS1hYTk1LTQzZDUtYTdmZS1jNDc2NDFmN2M1MDgiLCJleHAiOjE2MzQ1MzYyNDUsImlhdCI6MTYzNDUzMjY0NSwiZW1haWwiOiJ6b3JiYW5lQGdtYWlsLmNvbSJ9.EtAG4kIvllRnW6g_vcvsMlP50dckyfawV4DWIXtsa6RC9XMXYPjHW7_A-NyVPXf_kbdszzSrB0-uLEgLJ4iE3a_GqgK8lEjNZwTXEr6sBY5LRDhURqudfItQWLi7Zs3GveMEBaXRdyoFfYIxBMahhoQxKB3td4BR8TYRQqPWjAeqqKsfIhucMbNyrfkJc0AJKKwAa65SWHR51ulnjNVL9HlwPehb758ksbJd_SYjOf0eP9Dj71BMQOz1nTU5apHZAhf26xDTEbi4XIpD8Uy7MAp45JjIxzcVX-TV1yEh8sKf1myQR-lX4Vl1wuN66_Vtpw2BRNhFbaKymKwD2WxpNQ",otherWarnings:[]},s.getBearerToken=s.getBearerToken.bind(Object(c.a)(s)),s.loadTimmies=s.loadTimmies.bind(Object(c.a)(s)),s.loadSetData=s.loadSetData.bind(Object(c.a)(s)),s.loadInjuryData=s.loadInjuryData.bind(Object(c.a)(s)),s.loadTeamData=s.loadTeamData.bind(Object(c.a)(s)),s.getPlayerOpponent=s.getPlayerOpponent.bind(Object(c.a)(s)),s.getPlayerHomeAway=s.getPlayerHomeAway.bind(Object(c.a)(s)),s.getTeamAbbreviation=s.getTeamAbbreviation.bind(Object(c.a)(s)),s.getTimmiesAbbreviation=s.getTimmiesAbbreviation.bind(Object(c.a)(s)),s.setOverallColumns=s.setOverallColumns.bind(Object(c.a)(s)),s.setTrendColumns=s.setTrendColumns.bind(Object(c.a)(s)),s.setTrendGames=s.setTrendGames.bind(Object(c.a)(s)),s.adjustTrendGames=s.adjustTrendGames.bind(Object(c.a)(s)),s.getLowerTrendGamesPlayed=s.getLowerTrendGamesPlayed.bind(Object(c.a)(s)),s.getTOIFromPastGames=s.getTOIFromPastGames.bind(Object(c.a)(s)),s.getValueFromPastGames=s.getValueFromPastGames.bind(Object(c.a)(s)),s.getGoalStreak=s.getGoalStreak.bind(Object(c.a)(s)),s.setCurrentView=s.setCurrentView.bind(Object(c.a)(s)),s.setSeasonType=s.setSeasonType.bind(Object(c.a)(s)),s.setSeason=s.setSeason.bind(Object(c.a)(s)),s.getFormattedSeason=s.getFormattedSeason.bind(Object(c.a)(s)),s}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.cookies.get("lastSeason");this.setOverallColumns(),e&&e!==this.state.currentSeason?(console.log("last season is "+e),this.setSeason(e)):this.getBearerToken()}},{key:"getBearerToken",value:function(){var e=this,a={ClientId:"3fmtnokmptq4l3q7pfham4o2fn",AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:{REFRESH_TOKEN:this.refreshToken,DEVICE_KEY:null}};T.a.post(this.zorbaneProxyUrl+this.timmiesAuthUrl,a,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9","cache-control":"max-age=0","content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityProviderService.InitiateAuth","x-amz-user-agent":"aws-amplify/0.1.x js"}}).then((function(a){e.setState({bearerToken:a.data.AuthenticationResult.IdToken},e.loadInjuryData())})).catch((function(a){e.setState({errorMessage:"Sorry!  Unable to authenticate with Tim Hortons.  Please try again later."})}))}},{key:"loadInjuryData",value:function(){var e=this;T.a.create({baseURL:this.zorbaneProxyUrl+"https://www.rotowire.com/hockey/tables/injury-report.php?team=ALL&pos=ALL",withCredentials:!1,headers:{"X-Requested-With":"*"}}).get().then((function(a){e.setState({webInjuries:a.data},(function(){return e.loadTeamData()}))})).catch((function(a){e.loadTeamData()}))}},{key:"loadTeamData",value:function(){var e=this,a=this.zorbaneProxyUrl+"https://api.nhle.com/stats/rest/en/team/summary?isAggregate=false&isGame=false&sort=%5B%7B%22property%22:%22points%22,%22direction%22:%22DESC%22%7D,%7B%22property%22:%22wins%22,%22direction%22:%22DESC%22%7D%5D&start=0&limit=50&factCayenneExp=gamesPlayed%3E=1&cayenneExp=gameTypeId=";"playoffs"===this.state.seasonType?a+="3":a+="2",a+="%20and%20seasonId%3C="+this.state.actualSeason+"%20and%20seasonId%3E="+this.state.actualSeason,T.a.create({baseURL:a,withCredentials:!1,headers:{"X-Requested-With":"*"}}).get().then((function(a){for(var t=a.data.data,s=0;s<t.length;s++){var r=t[s].teamFullName,n=e.getTeamAbbreviation(r),i=e.getTimmiesAbbreviation(r);t[s].teamAbbr=n,t[s].timmiesAbbr=i||n}e.setState({teams:t,playerLists:[{id:"1",players:[]},{id:"2",players:[]},{id:"3",players:[]}]},e.loadTimmies())})).catch((function(a){console.log("Unable to get team stats from NHL website. Error: "+a),e.setState({errorMessage:"Sorry!  Unable to load data from the NHL website.  Please try again later."})}))}},{key:"loadTimmies",value:function(){var e=this,a=this.zorbaneProxyUrl+this.timmiesUrl;T.a.create({baseURL:a,method:"get",headers:{pragma:"no-cache","cache-control":"no-cache",authorization:"Bearer "+this.state.bearerToken,accept:"application/json, text/plain, */*","x-cognito-id":"us-east-1:00cc6e37-18ae-4cb7-9e7f-41e0be1924c6","accept-language":"en-CA,en;q=0.9"}}).get().then((function(a){e.loadNHLGames(a.data)})).catch((function(a){var t=!1;a.response&&(console.log(a.response.status),console.log(a.response.data),404===a.response.status&&a.response.data.code&&"noContest"===a.response.data.code&&(e.setState({errorMessage:"Take a break!  No games today."}),t=!0)),t||(console.log(a),e.setState({errorMessage:"Sorry!  Unable to load Tims Hockey Challenge Data.  Please try again later."}))}))}},{key:"loadNHLGames",value:function(e){var a=this,t=e.games;if(t.length>0){var s=t[0],r=new Date(s.startTime);r.setHours(r.getHours()-7);var n=r.toISOString().slice(0,10);T.a.create({baseURL:this.zorbaneProxyUrl+"https://statsapi.web.nhl.com/api/v1/schedule?date="+n,withCredentials:!1,headers:{"X-Requested-With":"*"}}).get().then((function(t){var s=t.data.dates[0].games,r=s.filter((function(e){return"Postponed"===e.status.detailedState}));a.setState({loading:!1,games:s,postponedGames:r},(function(){return a.loadSetData(e.sets)}))})).catch((function(e){console.log(e),a.setState({errorMessage:"Sorry!  Unable to load game day schedule from NHL website.  Please try again later."})}))}else this.setState({errorMessage:"No games today!"})}},{key:"loadSetData",value:function(e){var a=this;e.map((function(e){e.players.map((function(t){var s=t.firstName.trim(),r=t.lastName.trim(),n=s+" "+r,i=O.players.find((function(e){return e.timmiesName===n}));i&&(s=i.firstName,r=i.lastName,console.log("Found timmies player "+n+". Renamed to "+s+" "+r));var o=a.zorbaneProxyUrl+"https://api.nhle.com/stats/rest/en/skater/summary?cayenneExp=gameTypeId=";"playoffs"===a.state.seasonType?o+="3":o+="2",o+="%20and%20seasonId%3C="+a.state.currentSeason+"%20and%20seasonId%3E="+a.state.currentSeason+"%20and%20skaterFullName%20likeIgnoreCase%20%22%25"+s+"%20"+r+"%25%22",T.a.create({baseURL:o,withCredentials:!1,headers:{"X-Requested-With":"*"}}).get().then((function(i){var o=i.data.data[0];i.data.data.length>1&&"Aho"===t.lastName&&(o=i.data.data.find((function(e){return"CAR"===e.teamAbbrevs})));var l=t.firstName+t.lastName;if(o)l=o.playerId;else{var c={firstName:t.firstName,lastName:t.lastName,shortName:s.substring(0,1)+". "+r,position:t.position,key:l,nhldata:{teamAbbrevs:"nhl"},opponent:{teamAbbr:"nhl",goalsAgainstPerGame:0}},m=Object(h.a)(a.state.playerLists),d=m[e.id-1];d.players=[].concat(Object(h.a)(d.players),[c]),a.setState({playerLists:m})}var u=a.zorbaneProxyUrl+"https://statsapi.web.nhl.com/api/v1/people/";u+=l,u+="?expand=person.stats&stats=","playoffs"===a.state.seasonType?u+="statsSingleSeasonPlayoffs":u+="statsSingleSeason",u=u+"&season="+a.state.currentSeason,T.a.create({baseURL:u,withCredentials:!1,headers:{}}).get().then((function(i){var c=i.data.people[0],m=c.stats[0].splits[0].stat,d=c.currentTeam.name,u=c.currentTeam.name;d.includes("Canadiens")&&(d="Montreal Canadiens");var b=N.teams.find((function(e){return e.fullName===d}));null!=b?o.teamAbbrevs=b.abbreviation:console.log("Could not find team "+d);var p=a.zorbaneProxyUrl+"https://statsapi.web.nhl.com/api/v1/people/";p+=l,p+="/stats?stats=","playoffs"===a.state.seasonType?p+="playoffGameLog":p+="gameLog",p+="&expand=stats.team & season=",p+=a.state.currentSeason,T.a.create({baseURL:p,withCredentials:!1,headers:{"X-Requested-With":"*"}}).get().then((function(i){var c=i.data.stats[0].splits,d=null,b=null;o&&(d=a.getPlayerOpponent(o),b=a.getPlayerHomeAway(o)),o.goalsPerGame=(o.goals/o.gamesPlayed).toFixed(2),o.shotsPerGame=(o.shots/o.gamesPlayed).toFixed(2),t.fullName=n,t.shortName=s.substring(0,1)+" "+r;var p={firstName:t.firstName,lastName:t.lastName,fullName:t.firstName+" "+t.lastName,shortName:s.substring(0,1)+". "+r,position:t.position,key:l,id:l,nhldata:o,statsdata:m,gamelogData:c,opponent:d,homeaway:b},g=Object(h.a)(a.state.playerLists),f=g[e.id-1];if(f.players=[].concat(Object(h.a)(f.players),[p]),a.state.webInjuries&&!a.state.playerInjuries.find((function(e){return e.player===p.fullName}))){var j=a.state.webInjuries.find((function(e){return e.player===p.fullName}));j&&"Sebastian Aho"!=p.fullName&&(p.injury=j)}if(a.state.postponedGames&&(!a.state.postponedGames.find((function(e){return e.teams.away.team.name===u}))&&!a.state.postponedGames.find((function(e){return e.teams.home.team.name===u}))||a.state.games.find((function(e){return e.teams.away.team.name===u&&"Postponed"!=e.status.detailedState}))||a.state.games.find((function(e){return e.teams.home.team.name===u&&"Postponed"!=e.status.detailedState}))||(console.log("postponed game for "+p.fullName),p.postponed=!0)),p.injury){var y=[].concat(Object(h.a)(a.state.playerInjuries),[p.injury]);a.setState({playerLists:g,playerInjuries:y})}else a.setState({playerLists:g})})).catch((function(e){console.log("Game log stats failed for "+t.firstName+" "+t.lastName+". Error: "+e)}))})).catch((function(e){console.log("Player stats failed for "+t.firstName+" "+t.lastName+". Error: "+e)}))})).catch((function(e){console.log("Player search didn't work for "+t.firstName+" "+t.lastName+". Error: "+e)}))}))}))}},{key:"getTeamAbbreviation",value:function(e){var a=N.teams.find((function(a){return a.fullName===e}));return a?a.abbreviation:"MTL"}},{key:"getTimmiesAbbreviation",value:function(e){var a=N.teams.find((function(a){return a.fullName===e}));if(a)return a.timmiesAbbreviation?a.timmiesAbbreviation:""}},{key:"getPlayerHomeAway",value:function(e){var a=null;if(e){var t,s=e.teamAbbrevs,r=this.state.teams.find((function(e){return e.teamAbbr===s}));if(r)(t=this.state.games.find((function(e){return e.teams.home.team.name===r.teamFullName||e.teams.away.team.name===r.teamFullName})))&&(a=t.teams.home.team.name===r.teamFullName?"Home":"Away");else console.log("Can't find player team for player "+e.skaterFullName+" Team: "+s)}return a}},{key:"getPlayerOpponent",value:function(e){var a=null;if(e){var t,s=e.teamAbbrevs,r=this.state.teams.find((function(e){return e.teamAbbr===s}));if(r)if(t=this.state.games.find((function(e){return e.teams.home.team.name===r.teamFullName||e.teams.away.team.name===r.teamFullName})))a=t.teams.home.team.name===r.teamFullName?this.state.teams.find((function(e){return e.teamFullName===t.teams.away.team.name})):this.state.teams.find((function(e){return e.teamFullName===t.teams.home.team.name}));else{console.log("Can't find game for player "+e.skaterFullName);var n=[].concat(Object(h.a)(this.state.otherWarnings),[e.skaterFullName+" - Unable to find game."]);this.setState({otherWarnings:n})}else console.log("Can't find player team for player "+e.skaterFullName+" Team: "+s)}return a||(a={teamAbbr:"nhl",goalsAgainstPerGame:0}),a}},{key:"setOverallColumns",value:function(){var e=[{Header:" ",id:"name",columns:[{Header:"Name",id:"playerName",accessor:"shortName",className:"player-name",Cell:function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{className:"team-logo",src:"/assets/logos/"+e.row.original.nhldata.teamAbbrevs+".png"})," ",Object(f.jsx)("a",{target:"_blank",href:"https://www.nhl.com/player/"+e.row.original.key,children:e.value})]})}},{Header:"Pos",id:"playerPosition",accessor:"position",className:"short-stat"},{Header:"GP",id:"playerGames",accessor:"nhldata.gamesPlayed",className:"short-stat"},{Header:"G",id:"playerGoals",accessor:"nhldata.goals",className:"short-stat"},{Header:"Shots/GP",id:"playerShotsPerGame",accessor:"nhldata.shotsPerGame",className:"long-stat"},{Header:"Shoot%",id:"playerShootingPercentage",accessor:function(e){return(100*e.nhldata.shootingPct).toFixed(1)},className:"long-stat"},{Header:"PP.TOI/GP",id:"playerPPTimePerGame",accessor:"statsdata.powerPlayTimeOnIcePerGame",className:"long-stat"},{Header:"TOI/GP",id:"playerTimePerGame",accessor:"statsdata.timeOnIcePerGame",className:"long-stat"},{Header:"Goals/GP",id:"playerGoalsPerGame",accessor:"nhldata.goalsPerGame",className:"short-stat"},{Header:"H/A",id:"playerHomeaway",accessor:"homeaway",className:"short-stat"},{Header:"Opp.GAA",id:"playerOppGAA",accessor:"opponent.goalsAgainstPerGame",Cell:function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{className:"team-logo",src:"/assets/logos/"+e.row.original.opponent.teamAbbr+".png"})," ",e.value.toFixed(2)]})},className:"long-stat"}]}];this.setState({playerListColumns:e})}},{key:"setTrendColumns",value:function(){var e=this,a=[{Header:" ",id:"name",columns:[{Header:"Name",id:"playerName",accessor:"shortName",className:"player-name",Cell:function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{className:"team-logo",src:"/assets/logos/"+e.row.original.nhldata.teamAbbrevs+".png"})," ",Object(f.jsx)("a",{target:"_blank",href:"https://www.nhl.com/player/"+e.row.original.key,children:e.value})]})}},{Header:"Pos",id:"playerPosition",accessor:"position",className:"short-stat"},{Header:"Games",id:"games",accessor:function(a){return e.getLowerTrendGamesPlayed(a,e.state.trendGames)},className:"short-stat"},{Header:"G",id:"playerGoals",accessor:function(a){return e.getValueFromPastGames(a,"goals",e.state.trendGames)},className:"short-stat"},{Header:"Shots/GP",id:"playerShotsPerGame",accessor:function(a){return(e.getValueFromPastGames(a,"shots",e.state.trendGames)/e.getLowerTrendGamesPlayed(a,e.state.trendGames)).toFixed(2)},className:"long-stat"},{Header:"Shoot%",id:"playerShootingPercentage",accessor:function(a){return(e.getValueFromPastGames(a,"goals",e.state.trendGames)/e.getValueFromPastGames(a,"shots",e.state.trendGames)*100).toFixed(1)},className:"long-stat"},{Header:"PP.TOI/GP",id:"playerPPTimePerGame",accessor:function(a){return e.getTOIFromPastGames(a,"powerPlayTimeOnIce",e.state.trendGames)},className:"long-stat"},{Header:"TOI/GP",id:"playerTimePerGame",accessor:function(a){return e.getTOIFromPastGames(a,"timeOnIce",e.state.trendGames)},className:"long-stat"},{Header:"Goals/GP",id:"playerGoalsPerGame",accessor:function(a){return(e.getValueFromPastGames(a,"goals",e.state.trendGames)/e.getLowerTrendGamesPlayed(a,e.state.trendGames)).toFixed(2)},className:"short-stat"},{Header:"H/A",id:"playerHomeaway",accessor:"homeaway",className:"short-stat"},{Header:"Opp.Season GAA",id:"playerOppGAA",accessor:"opponent.goalsAgainstPerGame",Cell:function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{className:"team-logo",src:"/assets/logos/"+e.row.original.opponent.teamAbbr+".png"})," ",e.value.toFixed(2)]})},className:"long-stat"}]}];this.setState({playerListColumns:a})}},{key:"getValueFromPastGames",value:function(e,a,t){var s=e.gamelogData;if(!s)return 0;for(var r=0,n=t<=s.length?t:s.length,i=0;i<=n-1;i++){var o=s[i].stat;r+=parseInt(o[a])}return r}},{key:"getTOIFromPastGames",value:function(e,a,t){var s=e.gamelogData;if(!s)return 0;for(var r=0,n=0,i=t<=s.length?t:s.length,o=0;o<=i-1;o++){var l=s[o].stat[a].split(":"),c=l[0],m=l[1];r+=parseInt(c),n+=parseInt(m)}var d=(n+60*r)/this.getLowerTrendGamesPlayed(e,t),u=d/60,h=d%60;return Math.floor(u)+":"+Math.floor(h).toString().padStart(2,"0")}},{key:"getGoalStreak",value:function(e){return e.gamelogData.length,0}},{key:"getGoalsPerGameVsOpponent",value:function(e){e.opponent;return e.gamelogData.length,0}},{key:"setCurrentView",value:function(e){var a=this;e!=this.state.currentView&&this.setState({currentView:e},(function(){"trend"===e?a.setTrendColumns():a.setOverallColumns()}))}},{key:"getLowerTrendGamesPlayed",value:function(e,a){return a<e.nhldata.gamesPlayed?a:e.nhldata.gamesPlayed}},{key:"adjustTrendGames",value:function(e){var a=parseInt(this.state.trendGames)+parseInt(e);a>0&&this.setTrendGames(a)}},{key:"setTrendGames",value:function(e){var a=this,t=parseInt(e);Number.isInteger(t)?t>0&&this.setState({trendGamesInput:t,trendGames:t},(function(){return a.setTrendColumns()})):""===e&&this.setState({trendGamesInput:e})}},{key:"setSeasonType",value:function(e){var a=this;e!=this.state.seasonType&&this.setState({seasonType:e},(function(){return a.getBearerToken()}))}},{key:"setSeason",value:function(e){var a=this;if(e!=this.state.currentSeason){var t=this.getFormattedSeason(e);this.props.cookies.set("lastSeason",e,{path:"/"}),this.setState({currentSeason:e,currentSeasonFormatted:t},(function(){return a.getBearerToken()}))}}},{key:"getFormattedSeason",value:function(e){return e.substring(0,4)+"-"+e.substring(4,8)}},{key:"render",value:function(){var e=this,a=Object(f.jsx)("div",{children:"ok"});if(this.state.errorMessage)a=Object(f.jsx)("div",{className:"error-message",children:this.state.errorMessage});else if(this.state.loading)a=Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:"https://miro.medium.com/max/882/1*9EBHIOzhE1XfMYoKz1JcsQ.gif",alt:"loading..."})});else{var t,s;"trend"===this.state.currentView&&(t=Object(f.jsxs)("div",{className:"trend-settings",children:[Object(f.jsx)(k.a,{variant:"light",onClick:function(){return e.adjustTrendGames(-1)},children:"-"}),"Last ",Object(f.jsx)("input",{className:"trend-games",value:this.state.trendGamesInput,onChange:function(a){e.setTrendGames(a.target.value)}})," Games",Object(f.jsx)(k.a,{variant:"light",onClick:function(){return e.adjustTrendGames(1)},children:"+"})]})),(this.state.postponedGames||this.state.playerInjuries)&&(s=Object(f.jsx)(v,{postponedGames:this.state.postponedGames,injuries:this.state.playerInjuries,otherWarnings:this.state.otherWarnings})),a=Object(f.jsxs)("div",{children:[s,Object(f.jsxs)("div",{className:"settings-buttons",children:[Object(f.jsx)(k.a,{onClick:function(a){return e.setSeasonType("regular")},variant:"regular"===this.state.seasonType?"dark":"light",children:"Regular Season"}),Object(f.jsx)(k.a,{onClick:function(a){return e.setSeasonType("playoffs")},variant:"playoffs"===this.state.seasonType?"dark":"light",children:"Playoffs"})]}),Object(f.jsx)("div",{children:Object(f.jsxs)(G.a,{children:[Object(f.jsx)(G.a.Toggle,{variant:"success",id:"dropdown-basic",className:"season-dropdown",children:this.state.currentSeasonFormatted}),Object(f.jsxs)(G.a.Menu,{className:"season-dropdown",children:[Object(f.jsx)(G.a.Item,{onClick:function(){return e.setSeason("20212022")},children:"2021-2022"}),Object(f.jsx)(G.a.Item,{onClick:function(){return e.setSeason("20222023")},children:"2022-2023"})]})]})}),Object(f.jsxs)("div",{className:"settings-buttons",children:[Object(f.jsx)(k.a,{onClick:function(a){return e.setCurrentView("overall")},variant:"overall"===this.state.currentView?"dark":"light",children:"Overall"}),Object(f.jsx)(k.a,{onClick:function(a){return e.setCurrentView("trend")},variant:"trend"===this.state.currentView?"dark":"light",children:"Trend"})]}),t,Object(f.jsx)(y,{playerLists:this.state.playerLists,games:this.state.games,teams:this.state.teams,playerListColumns:this.state.playerListColumns})]})}return a}}]),t}(s.Component),w=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var s;return Object(o.a)(this,t),(s=a.call(this,e)).state={showLegend:!1},s.clickHeader=s.clickHeader.bind(Object(c.a)(s)),s}return Object(l.a)(t,[{key:"clickHeader",value:function(){this.setState({showLegend:!this.state.showLegend})}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"legend",id:"legend",children:[Object(f.jsx)("div",{onClick:function(a){return e.clickHeader()},children:Object(f.jsx)("a",{href:"#legend",children:"Legend"})}),Object(f.jsx)(b.a,{in:this.state.showLegend,children:Object(f.jsxs)("div",{className:"legend-content",children:["Pos - Position",Object(f.jsx)("br",{}),"GP - Games Played",Object(f.jsx)("br",{}),"G - Goals",Object(f.jsx)("br",{}),"Shots/GP - Shots per Game Played",Object(f.jsx)("br",{}),"Shoot% - Percentage of shots that score",Object(f.jsx)("br",{}),"PP.TOI/GP - Power Play Time on Ice per Game Played",Object(f.jsx)("br",{}),"TOI/GP - Time on Ice per Game Played",Object(f.jsx)("br",{}),"Goals/GP - Goals per Game Played",Object(f.jsx)("br",{}),"H/A - Whether the player is playing at home or away",Object(f.jsx)("br",{}),"Opp.GAA - Opposition Goals Against Average",Object(f.jsx)("br",{})]})})]})}}]),t}(s.Component),x=(t(77),t(85)),I=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var s;return Object(o.a)(this,t),(s=a.call(this,e)).state={showMessage:!0},s.clickHeader=s.clickHeader.bind(Object(c.a)(s)),s}return Object(l.a)(t,[{key:"clickHeader",value:function(){this.setState({showMessage:!1})}},{key:"render",value:function(){var e=this,a=Object(f.jsxs)("div",{children:["timmies.zorbane.com will shut down in less than two weeks.  Head to the new site ",Object(f.jsx)("a",{target:"_blank",href:"https://hockeychallengehelper.com",children:"https://hockeychallengehelper.com"}),"! ",Object(f.jsx)("a",{href:"#",onClick:function(a){return e.clickHeader()},children:"Click to hide..."})]});return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css",integrity:"sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l",crossOrigin:"anonymous"}),Object(f.jsx)("header",{className:"app-title",children:"Tim Horton's Hockey Challenge Helper"}),Object(f.jsxs)("div",{children:[this.state.showMessage&&a,Object(f.jsx)(S,{cookies:this.props.cookies}),Object(f.jsx)(w,{}),Object(f.jsxs)("footer",{className:"footer",children:[Object(f.jsxs)("div",{children:["Questions? Suggestions? Find me on ",Object(f.jsx)("a",{href:"//www.twitter.com/Zorbane",target:"_blank",children:"Twitter"})]}),Object(f.jsxs)("div",{children:["Buy me Timmies? ",Object(f.jsx)("a",{href:"https://www.paypal.com/paypalme/zorbane/",target:"_blank",children:Object(f.jsx)("img",{className:"paypal-logo",src:u})})]})]})]})]})}}]),t}(s.Component),L=Object(x.a)(I),C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,89)).then((function(a){var t=a.getCLS,s=a.getFID,r=a.getFCP,n=a.getLCP,i=a.getTTFB;t(e),s(e),r(e),n(e),i(e)}))};n.a.render(Object(f.jsx)(i.a,{children:Object(f.jsx)(L,{})}),document.getElementById("root")),C()}},[[80,1,2]]]);
//# sourceMappingURL=main.ae2464d9.chunk.js.map